<!DOCTYPE html>
<html lang="en">
<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
<script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
<link rel="stylesheet" href="../static/css/data.css">
<script src="../static/script/data.js"></script>
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/x-icon" href="../static/data/images/fish.png">
    <title>Fishpond - data</title>
</head>
<body>
    <p class="title">[ Pond system ]</p>
    <br>
    <br>

    <div class="controls">
        <div>
            <p>Specific date</p>
            <input type="date" id="startDateInput">
            <input type="date" id="endDateInput">
            <button id="search" onclick="searchDates()">Search</button>
        </div>
        <p>Quick dates</p>
        <button id="hour" onclick="hour()">Hour</button>
        <button id="today" onclick="today()">Today</button>
        <button id="yesturday" onclick="yesturday()">Yesterday</button>
        <button id="7days" onclick="quickDate(7)">7 Days</button>
        <p>Auto update</p>
        <button id="autoUpdate" onclick="autoUpdate()" class="off">Off</button>
    </div>

    <div class="controls">
        <!-- <button id="download" onclick="downloadData()">Download data</button> -->
        <input id="reduction" type="number" placeholder="Data reduction" value="30" title="How many rows to skip from the read data"> 
    </div>

    <div class="airData">
        <div class="line-graph" id="pondLevel">
        </div>
        <div class="line-graph" id="innerLevel">
        </div>
        <div class="line-graph" id="outerLevel">
        </div>
        <div class="line-graph" id="tubLevel">
        </div>
        <div class="line-graph" id="waterTemp">
        </div>
        <div class="line-graph" id="waterState">
        </div>
    </div>

    <div class="deviceData">
        <div class="line-graph" id="cpuTemp">
        </div>
        <div class="line-graph" id="cpuFreq">
        </div>
        <div class="line-graph" id="storage">
        </div>
    </div>

    
</body>
<script>
    document.getElementById('reduction').addEventListener('input', function() {
        // This function will be called when the textbox value changes
        let loadData = reduceData(saveData)
        loadCharts(loadData);
    });
</script>
</html>